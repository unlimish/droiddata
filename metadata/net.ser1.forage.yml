Categories:
  - Sports & Health
License: 3-Clause BSD
AuthorName: Sean E. Russell
AuthorEmail: ser@ser1.net
AuthorWebSite: https://www.ser1.net
WebSite: https://hg.sr.ht/~ser/forage
SourceCode: https://hg.sr.ht/~ser/forage
IssueTracker: https://todo.sr.ht/~ser/forage
Changelog: https://hg.sr.ht/~ser/forage/raw/CHANGELOG.md
Bitcoin: 1Fecf9PDu96iwwwV7ueRAiCEYVwWnttFdz

AutoName: Forage
Description: |-
    A shopping list front-end to your self-hosted
    <a href="https://hay-kot.github.io/mealie/">Mealie</a> instance.

    Mealie is a self-hosted recipe, menu planner, and shopping list web app.
    Forage provides an easier, native interface to the shopping list feature;
    it is most useful for when you are out doing the shopping, but it can be
    easier and faster to use than the web interface.

RepoType: hg
Repo: https://hg.sr.ht/~ser/forage

Builds:
  - versionName: 0.8.1
    versionCode: 10
    commit: v0.8.1
    ndk: r12b
    sudo:
      - apt-get update
      - apt-get install -y mercurial gcc libgl1-mesa-dev xorg-dev
      - curl -Lo go.tar.gz https://golang.org/dl/go1.17.5.linux-amd64.tar.gz
      - echo 'bd78114b0d441b029c8fe0341f4910370925a4d270a6a590668840675b0c653e go.tar.gz' | sha256sum -c -
      - tar -C /usr/local -xzf go.tar.gz
    output: Forage.apk
    prebuild:
      - export GOROOT=/usr/local/go
      - export GOPATH=${HOME}/go
      - export PATH=${PATH}:${GOROOT}/bin
      - export ANDROID_HOME=$$SDK$$
      - export ANDROID_NDK_HOME=$$NDK$$
      - go install fyne.io/fyne/v2/cmd/fyne@latest
    build:
      - export GOROOT=/usr/local/go
      - export GOPATH=${HOME}/go
      - export PATH=${PATH}:${GOROOT}/bin
      - export ANDROID_HOME=$$SDK$$
      - export ANDROID_NDK_HOME=$$NDK$$
      - ${HOME}/go/bin/fyne package -os android -release

AutoUpdateMode: Version +-fdroid v%v
UpdateCheckMode: Tags ^v[0-9].[0-9].[0-9]
CurrentVersion: 0.8.1
CurrentVersionCode: 10
