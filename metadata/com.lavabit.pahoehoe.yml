Categories:
  - Internet
  - Security
License: GPL-3.0-only
AuthorName: Lavabit LLC
WebSite: https://lavabit.com
SourceCode: https://github.com/lavabit/pahoehoe
IssueTracker: https://github.com/lavabit/pahoehoe/issues
Changelog: https://github.com/lavabit/pahoehoe/releases/tag/1.0.0

AutoName: Lavabit Encrypted Proxy

RepoType: git
Repo: https://github.com/lavabit/pahoehoe.git

Builds:
  - versionName: 1.0.0
    versionCode: 200
    commit: 1.0.0
    subdir: android/app
    gradle:
      - lavabitProductionFat
    prebuild:
      - sed -i -e "/^task updateSdkLicences/,/^}/d; /commandLine 'git'/d" build.gradle
      - yes | $ANDROID_HOME/tools/bin/sdkmanager --licenses > /dev/null
      - $ANDROID_HOME/tools/bin/sdkmanager 'platforms;android-30' > /dev/null
      - $ANDROID_HOME/tools/bin/sdkmanager 'build-tools;30.0.3' > /dev/null
      - $ANDROID_HOME/tools/bin/sdkmanager 'ndk;21.4.7075529' > /dev/null
      - $ANDROID_HOME/tools/bin/sdkmanager 'cmake;3.10.2.4988404' > /dev/null
    scandelete:
      - vpnweb/
      - daemon/
      - desktop/
      - android/go/
      - android/gradle/
      - android/ics-openvpn/
    build:
      - cd ../
      - export ANDROID_NDK_ROOT="$ANDROID_NDK"
      - scripts/build_deps.sh
    ndk: r21e

AutoUpdateMode: Version %v
UpdateCheckMode: Tags ^[0-9]+\.[0-9]+\.[0-9]+$
CurrentVersion: 1.0.0
CurrentVersionCode: 200
