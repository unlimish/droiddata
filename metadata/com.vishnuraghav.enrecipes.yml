Categories:
  - Sports & Health
License: GPL-3.0-only
AuthorName: Vishnu Raghav B
AuthorEmail: apps@vishnuraghav.com
AuthorWebSite: https://www.vishnuraghav.com
WebSite: https://enrecipes.vercel.app
SourceCode: https://github.com/vishnuraghavb/EnRecipes
IssueTracker: https://github.com/vishnuraghavb/EnRecipes/issues
Translation: https://hosted.weblate.org/engage/enrecipes
Changelog: https://github.com/vishnuraghavb/EnRecipes/releases
Donate: https://www.vishnuraghav.com/donate
Liberapay: vishnuraghavb
Bitcoin: bc1qjxwecmmajnl7qvyzwqqka60tfvcyj9qhy2lpq8

RepoType: git
Repo: https://github.com/vishnuraghavb/EnRecipes.git

Builds:
  - versionName: 1.3.0
    versionCode: 6
    commit: v1.3.0
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y lib32z1
      - curl -Lo node.tar.gz https://nodejs.org/dist/v10.23.1/node-v10.23.1-linux-x64.tar.gz
      - echo "2a5f9d862468a4c677630923531e52339526cfd075cc6df30da4636782eb7bda node.tar.gz"
        | sha256sum -c -
      - tar xzf node.tar.gz
      - cp -a node-v10.23.1-linux-x64/. /usr/local/
      - npm -g install nativescript
    init:
      - $$SDK$$/tools/bin/sdkmanager "platforms;android-30" "build-tools;30.0.3" >
        /dev/null
      - npm install --unsafe-perm
      - ns install
    output: platforms/android/app/build/outputs/apk/release/app-release-unsigned.apk
    scanignore:
      - node_modules/@nativescript/core/platforms/android/widgets-release.aar
      - node_modules/@nativescript/android/framework/build-tools/static-binding-generator.jar
      - node_modules/@nativescript/android/framework/build-tools/android-metadata-generator.jar
      - node_modules/@nativescript/android/framework/app/libs/runtime-libs/nativescript-optimized.aar
      - node_modules/@nativescript/android/framework/app/libs/runtime-libs/nativescript-optimized-with-inspector.aar
      - platforms/android/build-tools/static-binding-generator.jar
      - platforms/android/build-tools/dts-generator.jar
      - platforms/android/build-tools/android-metadata-generator.jar
      - platforms/android/app/libs/runtime-libs/nativescript-regular.aar
      - platforms/android/app/libs/runtime-libs/nativescript-optimized.aar
      - platforms/android/app/libs/runtime-libs/nativescript-optimized-with-inspector.aar
    scandelete:
      - node_modules/proxy-lib/bin/win32/ia32/CredentialsManager.exe
      - node_modules/proxy-lib/bin/win32/x64/CredentialsManager.exe
      - node_modules/@nativescript/core/platforms/ios/TNSWidgets.framework/TNSWidgets
      - node_modules/@nativescript/core/platforms/ios/TNSWidgets.framework.dSYM.zip
      - node_modules/nativescript-couchbase-plugin/platforms/android/fancycouchbase-release.aar
      - node_modules/nativescript-plugin-filepicker/platforms/android/nativescript_plugin_filepicker.aar
      - node_modules/nativescript-imagecropper/platforms/android/nativescript_imagecropper.aar
      - node_modules/@nativescript-community/ui-material-button/platforms/android/ui_material_button.aar
      - node_modules/@nativescript-community/ui-material-core/platforms/android/ui_material_core.aar
      - node_modules/@nativescript-community/text/platforms/android/text.aar
      - node_modules/nativescript-feedback/platforms/android/nativescript_feedback.aar
      - node_modules/@nativescript/android/framework/build-tools/dts-generator.jar
      - node_modules/@nativescript/android/framework/app/libs/runtime-libs/nativescript-regular.aar
      - node_modules/nativescript-couchbase-plugin/platforms/android/include.gradle
      - node_modules/nativescript-vibrate/platforms/android/nativescript_vibrate.aar
    build:
      - ns prepare android
      - sed -i 's/\(signingConfig[[:space:]]\)signingConfigs\.release/\1null/' platforms/android/app/build.gradle
      - ns build android --release --bundle --env.uglify --key-store-path /dev/null
        --key-store-alias NULL --key-store-password NULL --key-store-alias-password
        NULL || (cd platforms/android/app/build/outputs/apk/release
      - echo "The following files were found:"
      - find -maxdepth 1 -type f -name "*.apk")

AutoUpdateMode: Version v%v
UpdateCheckMode: HTTP
UpdateCheckData: https://raw.githubusercontent.com/vishnuraghavb/EnRecipes/main/app/resources/Android/app.gradle|versionCode\s(\d+)|.|versionName\s'(.+)'
CurrentVersion: 1.3.0
CurrentVersionCode: 6
