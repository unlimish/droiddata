Categories:
  - Connectivity
  - Internet
License: GPL-3.0-only
SourceCode: https://github.com/Kr328/ClashForAndroid
IssueTracker: https://github.com/Kr328/ClashForAndroid/issues
Changelog: https://github.com/Kr328/ClashForAndroid/releases

RepoType: git
Repo: https://github.com/Kr328/ClashForAndroid.git

Builds:
  - versionName: 2.4.1
    versionCode: 204001
    commit: v2.4.1
    subdir: app
    submodules: true
    sudo:
      - wget https://golang.org/dl/go1.16.4.linux-amd64.tar.gz -O go1.16.4.linux-amd64.tar.gz
      - rm -rf /usr/local/go
      - tar -C /usr/local -xzf go1.16.4.linux-amd64.tar.gz
    gradle:
      - foss
    output: app/build/outputs/apk/foss/release/app-foss-universal-release-unsigned.apk
    prebuild:
      - echo "appcenter.key=" >> ../local.properties
      - sed -i -e "s/^const val buildNdkVersion = .*$/const val buildNdkVersion =
        \"21.4.7075529\"/" ../buildSrc/src/main/java/Build.kt
      - sed -i -e '/distributionUrl/s/7.0.2-all/7.0.1-bin/g' ../gradle/wrapper/gradle-wrapper.properties
    build: export PATH=$PATH:/usr/local/go/bin
    ndk: r21e

AutoUpdateMode: Version v%v.foss
UpdateCheckMode: HTTP
UpdateCheckData: https://github.com/Kr328/ClashForAndroid/raw/main/buildSrc/src/main/java/Build.kt|const
    val buildVersionCode = (\d+)|.|const val buildVersionName = "([\d.]+)"
CurrentVersion: 2.4.1
CurrentVersionCode: 204001
