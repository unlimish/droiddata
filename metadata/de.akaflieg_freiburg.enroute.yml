Categories:
  - Navigation
License: GPL-3.0-only
AuthorName: Stefan Kebekus (not f-droid maintainer)
AuthorEmail: stefan.kebekus@gmail.com
WebSite: https://akaflieg-freiburg.github.io/enroute/
SourceCode: https://github.com/Akaflieg-Freiburg/enroute

Name: enroute flight navigation
Summary: enroute is a free flight navigation app for VFR pilots
Description: |-
    Enroute is a free flight navigation app for VFR pilots. Designed to be simple,
    functional and elegant, it takes the stress out of your next flight. The program
    has been written by flight enthusiasts, as a project of Akaflieg Freiburg, a
    flight club based in Freiburg, Germany.
    Enroute features a moving map, similar in style to the official ICAO maps.
    Your current position and your flight path for the next five minutes are marked,
    and so is your intended flight route. A simple tap on the display gives you all
    the information about airspaces, airfields and navaids â€“ complete with
    frequencies, codes, elevations and runway information.
    Our free aeronautical maps can be downloaded for offline use. In addition to
    airspaces, airfields and navaids, selected maps also show traffic circuits as
    well as flight procedures for control zones. The maps receive near-weekly
    updates and cover large parts of the world.
    Enroute supports basic flight planning. It allows you to quickly and easily
    compute distances, courses and headings, and gives you an estimate for flight
    time and fuel consumption. If the weather turns bad, the app will show you the
    closest airfields for landing, complete with distances, directions, runway
    information and frequencies.
    The original author strongly supports the provision of the app via f-droid.
    However, this is an unofficial version of the app, which has not been tested
    by the original app author. It might differ from the official version, even if
    the version number agrees with that of the official app.
    Disclaimer: This free app is published in the hope that it might be useful as
    an aid to prudent navigation. It comes with no guarantees. It may not work as
    expected. The data does not come from official sources and might be incomplete,
    outdated or otherwise incorrect. This app is no substitute for proper flight
    preparation or good pilotage. Relying on it as a primary means of navigation
    is most likely illegal, most certainly stupid and potentially suicidal.

RepoType: git
Repo: https://github.com/Akaflieg-Freiburg/enroute

Builds:
  - versionName: 1.7.0
    versionCode: 170
    commit: 1.7.0
    submodules: true
    sudo:
      - apt-get update || apt-get update
      - apt-get install --yes librsvg2-bin
    patch:
      - enroute_170.patch
    prebuild:
      - mkdir -p qt
      - cd qt
      - for ms in qtxmlpatterns:bf8d9118abf0dc97289d065f5d404fda748344b7 qtwebview:55ecbb4f43a1a6518c38c71bc59b0c9db80072d4
        qtwebsockets:273f828f7c732489bd5eeb1479ab85d74ed6ee58 qtwebchannel:ac8eaf9e416206e46cde51995394b8107904cc79
        qttranslations:60ce0c8f20f0f293fc263aa14970a4407a814307 qttools:1a018d98eac0f40e52a3d82a5bd62049e5059d3b
        qtsvg:4d340f9ab00cf9473005f5caa0fb4d4c9750bc87 qtspeech:6e329ad65de9aea099177ea4b8705f92c8f8b2d8
        qtserialport:4d5ed34903870ae6a649f5e64221e2af70164292 qtsensors:08fba8574d6ccb92553b774097da52cd852570ea
        qtscxml:93f34e4461d72b3fba40a345e38cf8dff9899b99 qtremoteobjects:5c31bba2efc06a0a32978a04e5d01e0fd14bbe03
        qtquickcontrols2:cc47296b2cf9f1e839fb1f18dac32393df5b23c4 qtquickcontrols:5584146ad75680e93e124d2a9daaca344522cb34
        qtmultimedia:adc71967a2a756cdd11d432a26a675d84e5da2e6 qtlocation:62e33b0786cd15dcb6dfec231153f9c08deb18bd
        qtimageformats:94ce6c5630e36081edae3870aae92a4d7599fa8b qtgraphicaleffects:402da448f44969debd01dbac813b7c4b1744f2e2
        qtgamepad:8370df11f7c635e4e093d4df33287ab00fbdcbc4 qtdeclarative:f4c4a43bd2f4dee6418c4110312bcc05aef641dc
        qtconnectivity:fbea3143fa5963480cfa69865f4daf215a260beb qtbase:25015296b19479f8f5239ea842965e5642168193
        qtandroidextras:24e5f0287191096fd7a5de26e90fae54b6cc69a6 qt3d:a7b9f49da8db9731b8bde696d42fa64e08f8f018;
        do m=${ms%:*}; s=${ms#*:}; fn=5.14.2-0-202003291250${m}-Linux-RHEL_7_6-Clang-Android-Android_ANY-Multi.7z;
        wget -q https://download.qt.io/online/qtsdkrepository/linux_x64/android/qt5_5142/qt.qt5.5142.android/$fn;
        echo "$s  $fn" | sha1sum -c
      - 7zr x $fn; done
      - for ms in qtcharts:9facbc52cbd84cdab4409d6eeb0493f543d1f5c3; do m=${ms%:*};
        s=${ms#*:}; fn=5.14.2-0-202003291250${m}-Linux-RHEL_7_6-Clang-Android-Android_ANY-Multi.7z;
        wget -q https://download.qt.io/online/qtsdkrepository/linux_x64/android/qt5_5142/qt.qt5.5142.qtcharts.android//$fn;
        echo "$s  $fn" | sha1sum -c
      - 7zr x $fn; done
      - export Qt5_DIR_ANDROID="$(pwd)/5.14.2/android"
      - export QTDIR="$(pwd)/5.14.2/android"
      - export PATH="$QTDIR/bin:$PATH"
      - export CMAKE_PREFIX_PATH=$QTDIR/bin
      - export CMAKE_PREFIX_PATH=$Qt5_DIR_ANDROID/lib/cmake/Qt5
      - export QT_QMAKE_EXECUTABLE=$Qt5_DIR_ANDROID/bin/qmake
      - cd ..
      - export ANDROID_NDK_ROOT=$$NDK$$
      - export ANDROID_SDK_ROOT=$$SDK$$
      - mkdir -p build-android-release
      - cd build-android-release
      - cmake .. -DANDROID_ABI:STRING=armeabi-v7a -DANDROID_BUILD_ABI_arm64-v8a:BOOL=ON
        -DANDROID_BUILD_ABI_armeabi-v7a:BOOL=ON -DANDROID_BUILD_ABI_x86:BOOL=false
        -DANDROID_BUILD_ABI_x86_64:BOOL=false -DANDROID_NATIVE_API_LEVEL:STRING=21
        -DANDROID_NDK:PATH=$ANDROID_NDK_ROOT -DANDROID_SDK:PATH=$ANDROID_SDK_ROOT
        -DANDROID_STL:STRING=c++_shared -DCMAKE_BUILD_TYPE:STRING=Release -DCMAKE_CXX_COMPILER:STRING=$ANDROID_NDK_ROOT/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++
        -DCMAKE_CXX_FLAGS="-Werror -Wall -Wextra" -DCMAKE_C_COMPILER:STRING=$ANDROID_NDK_ROOT/toolchains/llvm/prebuilt/linux-x86_64/bin/clang
        -DCMAKE_FIND_ROOT_PATH:STRING=$Qt5_DIR_ANDROID -DCMAKE_PREFIX_PATH:STRING=$Qt5_DIR_ANDROID
        -DCMAKE_TOOLCHAIN_FILE:PATH=$ANDROID_NDK_ROOT/build/cmake/android.toolchain.cmake
      - cmake ..
      - make -j8
      - $Qt5_DIR_ANDROID/bin/androiddeployqt --input android_deployment_settings.json
        --output android-build --release --apk de.akaflieg_freiburg.enroute_170.apk
      - mv de.akaflieg_freiburg.enroute_170.apk ../../../unsigned/.
    ndk: r21d

AutoUpdateMode: None
UpdateCheckMode: None
CurrentVersion: 1.7.0
CurrentVersionCode: 170
