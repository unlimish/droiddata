Categories:
  - Games
License: MIT
AuthorName: Jason Anderson
AuthorEmail: Jason.Anderson@jasonsblog.place
AuthorWebSite: https://www.jasonsblog.place
SourceCode: https://github.com/Ertain/Draw-Ping-Pong
IssueTracker: https://github.com/Ertain/Draw-Ping-Pong/issues
Changelog: https://github.com/Ertain/Draw-Ping-Pong/blob/main/CHANGELOG.md

RepoType: git
Repo: https://github.com/Ertain/Draw-Ping-Pong.git

Builds:
  - versionName: 0.9.1
    versionCode: 2
    commit: 01a941965279130a3c71df64f702db4f172746cf
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y g++ locales llvm clang
      - dpkg-reconfigure locales
    output: output.apk
    srclibs:
      - Godot@3.3.3-stable
    prebuild:
      - mkdir game
      - bash -O extglob -c "mv !(game) game"
      - wget https://downloads.tuxfamily.org/godotengine/3.3.3/Godot_v3.3.3-stable_linux_headless.64.zip
      - unzip Godot_v3.3.3-stable_linux_headless.64.zip
      - wget https://downloads.tuxfamily.org/godotengine/3.3.3/Godot_v3.3.3-stable_export_templates.tpz
      - unzip Godot_v3.3.3-stable_export_templates.tpz
    build:
      - keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -dname "CN=Android Debug,O=Android,C=US"
      - cd game
      - rm export_presets.cfg
      - mv "export_presets.cfg.f-droid" export_presets.cfg
      - sed "s|keystore/debug=\".*\"|keystore/debug=\"../debug.keystore\"|g" -i export_presets.cfg
      - sed "s|keystore/debug_user=\".*\"|keystore/debug_user=\"androiddebugkey\"|g" -i export_presets.cfg
      - sed "s|keystore/debug_password=\".*\"|keystore/debug_password=\"android\"|g" -i export_presets.cfg
      # Add in the paths to the custom built Android exports to the "export_presets.cfg" file.
      - sed "s@custom_template/debug=\".*\"@custom_template/debug=\"../templates/android_debug.apk\"@g" -i export_presets.cfg
      - sed "s@custom_template/release=\".*\"@custom_template/release=\"../templates/android_release.apk\"@g" -i export_presets.cfg
      - LANG="en_US.UTF-8" ../godot/bin/godot_server.x11.tools* --verbose --debug --export-debug Android ../output.apk
    ndk: r21e

AutoUpdateMode: None
UpdateCheckMode: None
CurrentVersion: 0.9.1
CurrentVersionCode: 2
