Categories:
  - Connectivity
  - Internet
  - Security
License: GPL-3.0-or-later
WebSite: https://briarproject.org/
SourceCode: https://code.briarproject.org/briar/briar
IssueTracker: https://code.briarproject.org/briar/briar/issues
Translation: https://www.transifex.com/otf/briar/
Changelog: https://code.briarproject.org/briar/briar/wikis/changelog
FlattrID: '592836'
LiberapayID: '34745'
Bitcoin: 1NZCKkUCtJV2U2Y9hDb9uq8S7ksFCFGR6K

AutoName: Briar
Description: |-
    Briar is a messaging app designed for activists, journalists, and anyone else
    who needs a safe, easy and robust way to communicate. Unlike traditional
    messaging tools such as email, Twitter or Telegram, Briar doesn't rely on a
    central server - messages are synchronized directly between the users' devices.
    If the Internet's down, Briar can sync via Bluetooth or Wi-Fi, keeping the
    information flowing in a crisis. If the Internet's up, Briar can sync via the
    Tor network, protecting users and their relationships from surveillance.

RepoType: git
Repo: https://code.briarproject.org/briar/briar.git
Binaries: https://briarproject.org/apk/briar-%v.apk

Builds:
  - versionName: 1.0.1
    versionCode: 10001
    commit: release-1.0.1
    subdir: briar-android
    sudo:
      - sed -i s@"en_GB:en"@"en_GB.UTF-8"@ /etc/default/locale
      - export LANGUAGE="en_GB.UTF-8"
    gradle:
      - yes
    rm:
      - bramble-j2se

  - versionName: 1.1.5
    versionCode: 10105
    commit: release-1.1.5
    subdir: briar-android
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y disorderfs
    init:
      - cd ../..
      - mv org.briarproject.briar.android org.briarproject.briar.android.build
      - mkdir org.briarproject.briar.android
      - disorderfs --sort-dirents=yes --reverse-dirents=no org.briarproject.briar.android.build
        org.briarproject.briar.android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.1.6
    versionCode: 10106
    commit: release-1.1.6
    subdir: briar-android
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y disorderfs
    init:
      - cd ../..
      - mv org.briarproject.briar.android org.briarproject.briar.android.build
      - mkdir org.briarproject.briar.android
      - disorderfs --sort-dirents=yes --reverse-dirents=no org.briarproject.briar.android.build
        org.briarproject.briar.android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.1.7
    versionCode: 10107
    disable: verification fails
    commit: release-1.1.7
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.1.8
    versionCode: 10108
    disable: verification fails
    commit: release-1.1.8
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.1.9
    versionCode: 10109
    disable: verification fails
    commit: release-1.1.9
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.2.4
    versionCode: 10204
    disable: verification fails
    commit: release-1.2.4
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.2.5
    versionCode: 10205
    commit: release-1.2.5
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.2.7
    versionCode: 10207
    commit: release-1.2.7
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless

  - versionName: 1.2.9
    versionCode: 10209
    disable: verification fails
    commit: release-1.2.9
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild: sed -i -e '/witness/d' ../*/build.gradle

  - versionName: 1.2.10
    versionCode: 10210
    commit: release-1.2.10
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild: sed -i -e '/witness/d' ../*/build.gradle

  - versionName: 1.2.16
    versionCode: 10216
    commit: release-1.2.16
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.2.18
    versionCode: 10218
    commit: release-1.2.18
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.2.20
    versionCode: 10220
    commit: release-1.2.20
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.3.4
    versionCode: 10304
    commit: release-1.3.4
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.3.5
    versionCode: 10305
    commit: 00407539d32147995ffb184ff77ab7c9c53c9920
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.3.6
    versionCode: 10306
    commit: 445ef0818cb80a4b7e4c1f4370293b0f869c2ece
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.3.8
    versionCode: 10308
    commit: 807677532c084a83c9e5943fa550fc7a906dc1df
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.4.1
    versionCode: 10401
    commit: 6517f3f2d0435af3d3dc8468557e1a969ff16494
    subdir: briar-android
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.4.3
    versionCode: 10403
    commit: e032e0ccd5c42a2d9410997c9ccc359d4ee88eb3
    subdir: briar-android
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y openjdk-11-jdk-headless
      - update-alternatives --auto java
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.4.4
    versionCode: 10404
    commit: 36670a8bf6bf056cfe8b749f982f9a4c05b05023
    subdir: briar-android
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y openjdk-11-jdk-headless
      - update-alternatives --auto java
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

  - versionName: 1.4.5
    versionCode: 10405
    commit: 4df523aaf8fc1961388e7b3580be2612dd1d074d
    subdir: briar-android
    sudo:
      - apt-get update || apt-get update
      - apt-get install -y openjdk-11-jdk-headless
      - update-alternatives --auto java
    gradle:
      - official
    rm:
      - bramble-java
      - briar-headless
      - libs/gradle-witness.jar
    prebuild:
      - sed -i -e '/witness/d' ../*/build.gradle
      - sed -i -e "/buildToolsVersion/apackagingOptions { doNotStrip '**/*.so' }"
        build.gradle ../bramble-android/build.gradle

ArchivePolicy: 3 versions
AutoUpdateMode: Version release-%v
UpdateCheckMode: Tags ^release-
CurrentVersion: 1.4.5
CurrentVersionCode: 10405
