Categories:
  - Writing
License: MIT
WebSite: https://joplinapp.org/
SourceCode: https://github.com/laurent22/joplin
IssueTracker: https://github.com/laurent22/joplin/issues
Donate: https://joplinapp.org/donate/

AutoName: Joplin
Description: |-
    An open source note taking and to-do application with synchronisation capabilities

    Joplin is a free, open source note taking and to-do application, which can handle a large number of notes organised into notebooks. The notes are searchable, can be copied, tagged and modified either from the applications directly or from your own text editor. The notes are in Markdown format.

    Notes exported from Evernote via .enex files can be imported into Joplin, including the formatted content (which is converted to Markdown), resources (images, attachments, etc.) and complete metadata (geolocation, updated time, created time, etc.). Plain Markdown files can also be imported.

    The notes can be synchronised with various cloud services including Nextcloud, Dropbox, OneDrive, WebDAV or the file system (for example with a network directory). When synchronising the notes, notebooks, tags and other metadata are saved to plain text files which can be easily inspected, backed up and moved around.

RepoType: git
Repo: https://github.com/laurent22/joplin.git

Builds:
  - versionName: 2.7.2
    versionCode: 2097667
    commit: android-v2.7.2
    subdir: packages/app-mobile/android/app
    sudo:
      - sysctl fs.inotify.max_user_watches=524288
      - apt-get update || apt-get update
      - apt-get install -y --no-install-recommends g++ jq
      - apt-get install -y --no-install-recommends -t stretch-backports openjdk-8-jre-headless
      - curl -Lo node.tar.xz https://nodejs.org/dist/v16.13.2/node-v16.13.2-linux-x64.tar.xz
      - echo "7f5e9a42d6e86147867d35643c7b1680c27ccd45db85666fc52798ead5e74421 node.tar.xz"
        | sha256sum -c -
      - tar xJf node.tar.xz
      - cp -a node-v16.13.2-linux-x64/. /usr/local/
      - corepack enable
    gradle:
      - yes
    rm:
      - packages/tools/PortableAppsLauncher/
      - packages/app-cli/tests/support/syncTargetSnapshots/
      - packages/plugin-repo-cli
      - packages/app-desktop
      - packages/app-clipper
      - packages/server
    prebuild:
      - sed -i -e '\!ACCESS_NETWORK_STATE!a<uses-permission android:name="com.android.vending.CHECK_LICENSE"
        tools:node="remove" />' -e 's!xmlns:android!xmlns:tools="http://schemas.android.com/tools"
        xmlns:android!' src/main/AndroidManifest.xml
      - cd ../../../..
      - find -name "package-lock.json" -delete
      - sed -i 's#DomHandlerOptions, Node,#DomHandlerOptions,#' packages/fork-htmlparser2/src/FeedHandler.ts
      - sed -i 's#Node | Node\[\]#any#g' packages/fork-htmlparser2/src/FeedHandler.ts
      - jq '.devDependencies."@typescript-eslint/eslint-plugin"="^2.34.0"' packages/fork-htmlparser2/package.json
        > fic.tmp
      - mv fic.tmp packages/fork-htmlparser2/package.json
      - jq '.devDependencies."@typescript-eslint/parser"="^2.34.0"' packages/fork-htmlparser2/package.json
        > fic.tmp
      - mv fic.tmp packages/fork-htmlparser2/package.json
      - jq '.devDependencies."ts-jest"="^26.5.6"' packages/fork-htmlparser2/package.json
        > fic.tmp
      - mv fic.tmp packages/fork-htmlparser2/package.json
      - jq '.dependencies."react-native-webview"="^11.15.0"' packages/app-mobile/package.json
        > fic.tmp
      - mv fic.tmp packages/app-mobile/package.json
      - jq '.dependencies."react-redux"="^7.2.6"' packages/app-mobile/package.json
        > fic.tmp
      - mv fic.tmp packages/app-mobile/package.json
      - jq '.dependencies."react-native"="~0.67"' packages/app-mobile/package.json
        > fic.tmp
      - mv fic.tmp packages/app-mobile/package.json
      - jq '.dependencies."highlight.js"="11.1.0"' packages/renderer/package.json
        > fic.tmp
      - mv fic.tmp packages/renderer/package.json
      - yarn install
      - sed -i -e '13,15d' packages/app-mobile/node_modules/react-native-rsa-native/android/build.gradle
    scanignore:
      - .yarn/cache/
      - .yarn/install-state.gz
      - packages/app-mobile/android/build.gradle
      - packages/app-mobile/node_modules/joplin-rn-alarm-notification/android/build.gradle
      - packages/app-mobile/node_modules/@react-native-community/netinfo/android/build.gradle
      - packages/app-mobile/node_modules/react-native-get-random-values/android/build.gradle
      - packages/app-mobile/node_modules/react-native-securerandom/android/build.gradle
      - packages/app-mobile/node_modules/react-native-vector-icons/android/build.gradle
      - packages/app-mobile/node_modules/react-native-image-picker/android/build.gradle
      - packages/app-mobile/node_modules/react-native-rsa-native/android/build.gradle
      - packages/app-mobile/node_modules/react-native-webview/android/build.gradle
      - packages/app-mobile/node_modules/react-native-camera/android/build.gradle
      - packages/app-mobile/node_modules/react-native-share/android/build.gradle
      - packages/app-mobile/node_modules/react-native/android
      - packages/app-mobile/node_modules/jsc-android
      - packages/app-mobile/node_modules/hermes-engine
      - packages/app-mobile/node_modules/react-native/ReactAndroid/build.gradle
      - packages/app-mobile/node_modules/react-native-rsa-native/android/bin/build.gradle
    scandelete:
      - packages/fork-htmlparser2/node_modules/**
      - packages/generator-joplin/node_modules/**
      - packages/app-mobile/node_modules/**
      - packages/renderer/node_modules/**
      - packages/app-cli/node_modules/**
      - packages/tools/node_modules/**
      - packages/lib/node_modules/**
      - node_modules/**

MaintainerNotes: |-
    * "g++" is needed for a dependency built by "npm install".
    * The update of JDK 8 is needed to solve a TLSv1.2 ciphersuite handshake fail with Gradle.
    * "scanignore" of "build.gradle" are for local Maven repositories, the React Native folder
      is for "react-native-0.66.1.aar", and the JSC Android folder for "android-jsc-intl-r241213.jar".

AutoUpdateMode: None
UpdateCheckMode: Tags android-.*
CurrentVersion: 2.7.2
CurrentVersionCode: 2097667
