Categories:
  - Internet
License: Apache-2.0
AuthorName: New Vector Ltd.
AuthorEmail: press@element.io
WebSite: https://element.io/
SourceCode: https://github.com/vector-im/element-x-android
IssueTracker: https://github.com/vector-im/element-x-android/issues
Translation: https://localazy.com/p/element
Changelog: https://github.com/vector-im/element-x-android/blob/HEAD/CHANGES.md
Liberapay: matrixdotorg
Bitcoin: 1LxowEgsquZ3UPZ68wHf8v2MDZw82dVmAEa

AutoName: Element X

RepoType: git
Repo: https://github.com/vector-im/element-x-android.git

Builds:
  - versionName: 0.2.4
    versionCode: 40002041
    commit: 3b1112469c68097f82dff33919ad74a004de21bf
    subdir: app
    sudo:
      - apt-get update
      - apt-get install -y openjdk-17-jdk-headless
      - update-java-alternatives -a
    gradle:
      - yes
    output: build/outputs/apk/release/app-armeabi-v7a-release-unsigned.apk
    rm:
      - libraries/pushproviders/firebase
      - tools/templates/file_templates.zip
    prebuild:
      - sed -i -e '/firebase.appdistribution/d' -e '/firebaseAppDistribution {/,+14d'
        -e 's/UniversalApk = .*/UniversalApk = false/' -e 's/include("armeabi-v7a",
        "x86", "arm64-v8a", "x86_64"/include("armeabi-v7a"/' -e '/ndk {/,+2d' build.gradle.kts
      - sed -i -e '/gms/d' ../build.gradle.kts
      - sed -i -e '/firebase/d' ../gradle/libs.versions.toml ../plugins/build.gradle.kts
        ../plugins/src/main/kotlin/extension/DependencyHandleScope.kt
    scanignore:
      - settings.gradle.kts
    scandelete:
      - plugins

  - versionName: 0.2.4
    versionCode: 40002042
    commit: 3b1112469c68097f82dff33919ad74a004de21bf
    subdir: app
    sudo:
      - apt-get update
      - apt-get install -y openjdk-17-jdk-headless
      - update-java-alternatives -a
    gradle:
      - yes
    output: build/outputs/apk/release/app-arm64-v8a-release-unsigned.apk
    rm:
      - libraries/pushproviders/firebase
      - tools/templates/file_templates.zip
    prebuild:
      - sed -i -e '/firebase.appdistribution/d' -e '/firebaseAppDistribution {/,+14d'
        -e 's/UniversalApk = .*/UniversalApk = false/' -e 's/include("armeabi-v7a",
        "x86", "arm64-v8a", "x86_64"/include("arm64-v8a"/' -e '/ndk {/,+2d' build.gradle.kts
      - sed -i -e '/gms/d' ../build.gradle.kts
      - sed -i -e '/firebase/d' ../gradle/libs.versions.toml ../plugins/build.gradle.kts
        ../plugins/src/main/kotlin/extension/DependencyHandleScope.kt
    scanignore:
      - settings.gradle.kts
    scandelete:
      - plugins

  - versionName: 0.2.4
    versionCode: 40002043
    commit: 3b1112469c68097f82dff33919ad74a004de21bf
    subdir: app
    sudo:
      - apt-get update
      - apt-get install -y openjdk-17-jdk-headless
      - update-java-alternatives -a
    gradle:
      - yes
    output: build/outputs/apk/release/app-x86-release-unsigned.apk
    rm:
      - libraries/pushproviders/firebase
      - tools/templates/file_templates.zip
    prebuild:
      - sed -i -e '/firebase.appdistribution/d' -e '/firebaseAppDistribution {/,+14d'
        -e 's/UniversalApk = .*/UniversalApk = false/' -e 's/include("armeabi-v7a",
        "x86", "arm64-v8a", "x86_64"/include("x86"/' -e '/ndk {/,+2d' build.gradle.kts
      - sed -i -e '/gms/d' ../build.gradle.kts
      - sed -i -e '/firebase/d' ../gradle/libs.versions.toml ../plugins/build.gradle.kts
        ../plugins/src/main/kotlin/extension/DependencyHandleScope.kt
    scanignore:
      - settings.gradle.kts
    scandelete:
      - plugins

  - versionName: 0.2.4
    versionCode: 40002044
    commit: 3b1112469c68097f82dff33919ad74a004de21bf
    subdir: app
    sudo:
      - apt-get update
      - apt-get install -y openjdk-17-jdk-headless
      - update-java-alternatives -a
    gradle:
      - yes
    output: build/outputs/apk/release/app-x86_64-release-unsigned.apk
    rm:
      - libraries/pushproviders/firebase
      - tools/templates/file_templates.zip
    prebuild:
      - sed -i -e '/firebase.appdistribution/d' -e '/firebaseAppDistribution {/,+14d'
        -e 's/UniversalApk = .*/UniversalApk = false/' -e 's/include("armeabi-v7a",
        "x86", "arm64-v8a", "x86_64"/include("x86_64"/' -e '/ndk {/,+2d' build.gradle.kts
      - sed -i -e '/gms/d' ../build.gradle.kts
      - sed -i -e '/firebase/d' ../gradle/libs.versions.toml ../plugins/build.gradle.kts
        ../plugins/src/main/kotlin/extension/DependencyHandleScope.kt
    scanignore:
      - settings.gradle.kts
    scandelete:
      - plugins

MaintainerNotes: Do not update unless requested by the Element team! The Element team
  will ping us whenever they feel a new release is ready. See https://github.com/vector-im/element-android/issues/3728
  as an example of their release process.

AutoUpdateMode: None
UpdateCheckMode: Tags
CurrentVersion: 0.2.3
CurrentVersionCode: 40002034
