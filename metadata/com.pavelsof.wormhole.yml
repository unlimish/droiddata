Categories:
  - Internet
License: GPL-3.0-or-later
SourceCode: https://github.com/pavelsof/mobile-wormhole
IssueTracker: https://github.com/pavelsof/mobile-wormhole/issues
Changelog: https://github.com/pavelsof/mobile-wormhole/blob/HEAD/CHANGELOG.md

Summary: Send and receive files using the Magic Wormhole protocol
Description: |-
    This is an Android client for the Magic Wormhole protocol [1]. You can use
    it to exchange files between your phone and another Magic Wormhole client,
    including the original command-line client.

    How to send files

    * From the main screen, tap the "send" button. Then use the "choose file"
    button to pick the file that you want to send.
    * Alternatively, open the file that you want to send and tap the share
    icon: Wormhole should be listed among the apps you can use to share the file.
    * Either way, the app will have generated a code, a random number followed
    by two random words. The person to whom you want to send the file will have
    to enter this code in their Magic Wormhole client. The code is also copied
    to the clipboard for convenience.
    * Tap the "send" button. When the user at the other end of the wormhole
    enters the code and confirms, the file will start transferring.
    * The "send" button will change to "done" when the transfer is complete.

    How to receive files

    * From the main screen, tap the "receive" button.
    * Enter the code that the sender has provided you with and tap the
    "connect" button.
    * You will see the incoming file's name and size. If all looks good, tap
    the "receive" button to start the file transfer.
    * When the file is downloaded from the wormhole, the "receive" button will
    change to an "open dir" button.

    The app is still in beta and there is still a lot to be desired. However,
    the basic functionality of sending and receiving files seems to be there. I
    find it useful, so someone else might as well.

    The code is open sourced under GPLv3. Pull requests are welcome [2].

    [1]: https://github.com/warner/magic-wormhole
    [2]: https://github.com/pavelsof/mobile-wormhole

RepoType: git
Repo: https://github.com/pavelsof/mobile-wormhole

Builds:
  - versionName: 0.2.0
    versionCode: 0
    commit: dfcf588e116c4583566802d3ad80f72ad17e351b
    sudo:
      - apt-get update
      - apt-get install -y build-essential libffi-dev libltdl-dev
    output: bin/wormhole-$$VERSION$$-release-unsigned.apk
    srclibs:
      - buildozer@586152c
      - python-for-android@ccb0f8e1
    prebuild:
      - sed -iE "/^[# ]*android\.(ant|ndk|sdk)_path[ =]/d" buildozer.spec
      - sed -iE "/^[# ]*android.accept_sdk_license[ =]+.*/d" buildozer.spec
      - sed -iE "/^[# ]*android.skip_update[ =]+.*/d" buildozer.spec
      - sed -iE "/^[# ]*p4a.source_dir[ =]+.*/d" buildozer.spec
      - sed -i "s,\[app\],[app]\n\nandroid.sdk_path = $$SDK$$\nandroid.ndk_path =
        $$NDK$$\np4a.source_dir = $$python-for-android$$\nandroid.accept_sdk_license
        = False\nandroid.skip_update = True\nandroid.ant_path = /usr/bin/ant\n," buildozer.spec
      - pip3 install --user --upgrade $$buildozer$$ Cython==0.28.6
    build: PATH="$HOME/.local/bin:$PATH" buildozer android release
    ndk: r19c

AutoUpdateMode: Version v%v
UpdateCheckMode: Tags
CurrentVersion: 0.2.0
CurrentVersionCode: 0
