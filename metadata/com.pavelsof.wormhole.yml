Categories:
  - Internet
License: GPL-3.0-or-later
AuthorName: pavelsof
AuthorWebSite: https://pavelsof.com
SourceCode: https://github.com/pavelsof/mobile-wormhole
IssueTracker: https://github.com/pavelsof/mobile-wormhole/issues
Changelog: https://github.com/pavelsof/mobile-wormhole/blob/HEAD/CHANGELOG.md

RepoType: git
Repo: https://github.com/pavelsof/mobile-wormhole

Builds:
  - versionName: 0.2.0
    versionCode: 200
    commit: v0.2.0
    sudo:
      - apt-get update
      - apt-get install -y build-essential libffi-dev libltdl-dev
    output: bin/wormhole-$$VERSION$$-release-unsigned.apk
    srclibs:
      - buildozer@586152c
      - python-for-android@ccb0f8e1
    prebuild:
      - sed -iE "/^[# ]*android\.(ant|ndk|sdk)_path[ =]/d" buildozer.spec
      - sed -iE "/^[# ]*android.accept_sdk_license[ =]+.*/d" buildozer.spec
      - sed -iE "/^[# ]*android.skip_update[ =]+.*/d" buildozer.spec
      - sed -iE "/^[# ]*p4a.source_dir[ =]+.*/d" buildozer.spec
      - sed -i "s,\[app\],[app]\n\nandroid.sdk_path = $$SDK$$\nandroid.ndk_path =
        $$NDK$$\np4a.source_dir = $$python-for-android$$\nandroid.accept_sdk_license
        = False\nandroid.skip_update = True\nandroid.ant_path = /usr/bin/ant\n," buildozer.spec
      - pip3 install --user --upgrade $$buildozer$$ Cython==0.28.6
    build: PATH="$HOME/.local/bin:$PATH" buildozer android release
    ndk: r19c

AutoUpdateMode: Version v%v
UpdateCheckMode: Tags
CurrentVersion: 0.2.0
CurrentVersionCode: 200
